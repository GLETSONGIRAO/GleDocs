
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/g.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.6">
    
    
      
        <title>Flask - GleDocs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4a0965b7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Source Sans Pro";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="amber">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flask" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="GleDocs" class="md-header__button md-logo" aria-label="GleDocs" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GleDocs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Flask
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GleDocs" class="md-nav__button md-logo" aria-label="GleDocs" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    GleDocs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SobreMim/" class="md-nav__link">
        Profissional
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Algoritmos Machine Learning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Algoritmos Machine Learning" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Algoritmos Machine Learning
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../AprendizadoSupervisionado/" class="md-nav__link">
        Aprendizado Supervisionado
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../regressaolinear/" class="md-nav__link">
        Regressão Linear
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Machine Learning Engineering
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Machine Learning Engineering" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Machine Learning Engineering
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MachineLearningDeploy/" class="md-nav__link">
        Machine Learning em produção
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Desenvolvimento Web
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Desenvolvimento Web" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Desenvolvimento Web
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Lan%C3%A7andoWebsite/" class="md-nav__link">
        Publicando um Website
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fundamentos_web/" class="md-nav__link">
        Fundamentos Web
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../EngenhariaDeSoftware/" class="md-nav__link">
        Engenharia de Sofware
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Misc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Misc" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Misc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Flask
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Flask
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Tabela de Conteúdos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabela de Conteúdos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introducao" class="md-nav__link">
    Introdução
  </a>
  
    <nav class="md-nav" aria-label="Introdução">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features-do-flask" class="md-nav__link">
    Features do Flask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#micro-framework" class="md-nav__link">
    Micro-framework
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#o-modelo-arquitetural-cliente-servidor" class="md-nav__link">
    O Modelo Arquitetural Cliente-Servidor
  </a>
  
    <nav class="md-nav" aria-label="O Modelo Arquitetural Cliente-Servidor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comunicacao-cliente-servidor" class="md-nav__link">
    Comunicação cliente servidor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uma-aplicacao-flask-como-um-servidor" class="md-nav__link">
    Uma aplicação Flask como um servidor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquitetura-model-template-view-mtv" class="md-nav__link">
    Arquitetura Model-Template-View (MTV)
  </a>
  
    <nav class="md-nav" aria-label="Arquitetura Model-Template-View (MTV)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componentes-da-arquitetura-mvc" class="md-nav__link">
    Componentes da Arquitetura MVC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mtv" class="md-nav__link">
    MTV
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wsgi-e-jinja2" class="md-nav__link">
    WSGI e Jinja2
  </a>
  
    <nav class="md-nav" aria-label="WSGI e Jinja2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-server-gateway-interface-wsgi" class="md-nav__link">
    Web Server Gateway Interface (WSGI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-linguagem-de-template-jinja" class="md-nav__link">
    A linguagem de template Jinja
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hello-world" class="md-nav__link">
    Hello World!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rotas-url-e-views" class="md-nav__link">
    Rotas URL e Views
  </a>
  
    <nav class="md-nav" aria-label="Rotas URL e Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-decorator-route" class="md-nav__link">
    O decorator route()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-routing" class="md-nav__link">
    Static Routing
  </a>
  
    <nav class="md-nav" aria-label="Static Routing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#um-exemplo-usando-rotas-url-estaticas" class="md-nav__link">
    Um Exemplo usando rotas URL estáticas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-routing" class="md-nav__link">
    Dynamic Routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converter" class="md-nav__link">
    Converter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-usar-templates-html" class="md-nav__link">
    Como usar Templates HTML
  </a>
  
    <nav class="md-nav" aria-label="Como usar Templates HTML">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#templates-estaticos" class="md-nav__link">
    Templates Estáticos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renderizando-templates-html" class="md-nav__link">
    Renderizando templates HTML
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uma-string" class="md-nav__link">
    Uma String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estrategias-de-estrutura-de-arquivos" class="md-nav__link">
    Estratégias de estrutura de arquivos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquivos-estaticos" class="md-nav__link">
    Arquivos Estáticos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-servimos-arquivos-estaticos" class="md-nav__link">
    Como Servimos Arquivos Estáticos?
  </a>
  
    <nav class="md-nav" aria-label="Como Servimos Arquivos Estáticos?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#passos-para-servir-arquivos-estaticos" class="md-nav__link">
    Passos para servir Arquivos Estáticos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates-dinamicos" class="md-nav__link">
    Templates Dinâmicos
  </a>
  
    <nav class="md-nav" aria-label="Templates Dinâmicos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#templates-jinja2" class="md-nav__link">
    Templates Jinja2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-inheritance" class="md-nav__link">
    Template Inheritance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formularios" class="md-nav__link">
    Formulários
  </a>
  
    <nav class="md-nav" aria-label="Formulários">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utilizando-request" class="md-nav__link">
    Utilizando Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-handling-usando-objeto-request" class="md-nav__link">
    Data Handling usando objeto Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recebendo-o-tipo-de-method-de-request" class="md-nav__link">
    Recebendo o tipo de method de request.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recebendo-form-data-de-request" class="md-nav__link">
    Recebendo Form data de request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#criando-formularios-usando-flask-wtf-e-wtforms" class="md-nav__link">
    Criando Formulários usando Flask-WTF e WTForms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renderizando-formularios-flask-wtf-em-templates" class="md-nav__link">
    Renderizando formulários Flask-WTF em templates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#banco-de-dados-com-sqlalchemy" class="md-nav__link">
    Banco de dados com SQLAlchemy
  </a>
  
    <nav class="md-nav" aria-label="Banco de dados com SQLAlchemy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criando-modelos" class="md-nav__link">
    Criando Modelos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacionamento-um-um-para-muitos" class="md-nav__link">
    Relacionamento um Um-Para-Muitos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pygal-em-flask" class="md-nav__link">
    Pygal em Flask
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../XGBoost/" class="md-nav__link">
        XGBoost
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Mkdocs/" class="md-nav__link">
        Mkdocs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Estatística
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Estatística" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Estatística
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Estatistica/" class="md-nav__link">
        Estatística
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Probabilidade/" class="md-nav__link">
        Probabilidade
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          DataViz
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DataViz" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          DataViz
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PyGal/" class="md-nav__link">
        PyGal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Projetos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Projetos" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Projetos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_10_1" type="checkbox" id="__nav_10_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1">
          Phenotype Predicition
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Phenotype Predicition" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          Phenotype Predicition
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../eye_color_pt1/" class="md-nav__link">
        01 - Aquisição dos Dados
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../eye_color_pt2/" class="md-nav__link">
        02 - Preparação e Análise
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Tabela de Conteúdos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabela de Conteúdos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introducao" class="md-nav__link">
    Introdução
  </a>
  
    <nav class="md-nav" aria-label="Introdução">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features-do-flask" class="md-nav__link">
    Features do Flask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#micro-framework" class="md-nav__link">
    Micro-framework
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#o-modelo-arquitetural-cliente-servidor" class="md-nav__link">
    O Modelo Arquitetural Cliente-Servidor
  </a>
  
    <nav class="md-nav" aria-label="O Modelo Arquitetural Cliente-Servidor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comunicacao-cliente-servidor" class="md-nav__link">
    Comunicação cliente servidor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uma-aplicacao-flask-como-um-servidor" class="md-nav__link">
    Uma aplicação Flask como um servidor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquitetura-model-template-view-mtv" class="md-nav__link">
    Arquitetura Model-Template-View (MTV)
  </a>
  
    <nav class="md-nav" aria-label="Arquitetura Model-Template-View (MTV)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componentes-da-arquitetura-mvc" class="md-nav__link">
    Componentes da Arquitetura MVC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mtv" class="md-nav__link">
    MTV
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wsgi-e-jinja2" class="md-nav__link">
    WSGI e Jinja2
  </a>
  
    <nav class="md-nav" aria-label="WSGI e Jinja2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-server-gateway-interface-wsgi" class="md-nav__link">
    Web Server Gateway Interface (WSGI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-linguagem-de-template-jinja" class="md-nav__link">
    A linguagem de template Jinja
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hello-world" class="md-nav__link">
    Hello World!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rotas-url-e-views" class="md-nav__link">
    Rotas URL e Views
  </a>
  
    <nav class="md-nav" aria-label="Rotas URL e Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-decorator-route" class="md-nav__link">
    O decorator route()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-routing" class="md-nav__link">
    Static Routing
  </a>
  
    <nav class="md-nav" aria-label="Static Routing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#um-exemplo-usando-rotas-url-estaticas" class="md-nav__link">
    Um Exemplo usando rotas URL estáticas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-routing" class="md-nav__link">
    Dynamic Routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converter" class="md-nav__link">
    Converter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-usar-templates-html" class="md-nav__link">
    Como usar Templates HTML
  </a>
  
    <nav class="md-nav" aria-label="Como usar Templates HTML">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#templates-estaticos" class="md-nav__link">
    Templates Estáticos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renderizando-templates-html" class="md-nav__link">
    Renderizando templates HTML
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uma-string" class="md-nav__link">
    Uma String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estrategias-de-estrutura-de-arquivos" class="md-nav__link">
    Estratégias de estrutura de arquivos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquivos-estaticos" class="md-nav__link">
    Arquivos Estáticos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-servimos-arquivos-estaticos" class="md-nav__link">
    Como Servimos Arquivos Estáticos?
  </a>
  
    <nav class="md-nav" aria-label="Como Servimos Arquivos Estáticos?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#passos-para-servir-arquivos-estaticos" class="md-nav__link">
    Passos para servir Arquivos Estáticos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates-dinamicos" class="md-nav__link">
    Templates Dinâmicos
  </a>
  
    <nav class="md-nav" aria-label="Templates Dinâmicos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#templates-jinja2" class="md-nav__link">
    Templates Jinja2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-inheritance" class="md-nav__link">
    Template Inheritance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formularios" class="md-nav__link">
    Formulários
  </a>
  
    <nav class="md-nav" aria-label="Formulários">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utilizando-request" class="md-nav__link">
    Utilizando Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-handling-usando-objeto-request" class="md-nav__link">
    Data Handling usando objeto Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recebendo-o-tipo-de-method-de-request" class="md-nav__link">
    Recebendo o tipo de method de request.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recebendo-form-data-de-request" class="md-nav__link">
    Recebendo Form data de request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#criando-formularios-usando-flask-wtf-e-wtforms" class="md-nav__link">
    Criando Formulários usando Flask-WTF e WTForms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renderizando-formularios-flask-wtf-em-templates" class="md-nav__link">
    Renderizando formulários Flask-WTF em templates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#banco-de-dados-com-sqlalchemy" class="md-nav__link">
    Banco de dados com SQLAlchemy
  </a>
  
    <nav class="md-nav" aria-label="Banco de dados com SQLAlchemy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criando-modelos" class="md-nav__link">
    Criando Modelos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacionamento-um-um-para-muitos" class="md-nav__link">
    Relacionamento um Um-Para-Muitos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pygal-em-flask" class="md-nav__link">
    Pygal em Flask
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="flask">Flask<a class="headerlink" href="#flask" title="Permanent link">&para;</a></h1>
<h2 id="introducao">Introdução<a class="headerlink" href="#introducao" title="Permanent link">&para;</a></h2>
<p>Flask é um framework de desenvolvimento web desenvolvido em Python. É fácil de aprender e de usar. "Begginer-friendly" porque não usa códigos que devem ser sempre copiados ou dependências, o que pode distrair da função primária da aplicação.</p>
<h3 id="features-do-flask">Features do Flask<a class="headerlink" href="#features-do-flask" title="Permanent link">&para;</a></h3>
<ol>
<li>Fornece um <strong>servidor de desenvolvimento</strong> e um <strong>debugger.</strong></li>
<li>Usa templates <strong>Jinja2.</strong></li>
<li>Compatível com <strong>WSGI 1.0.</strong></li>
<li>Fornece suporte integrado para <strong>testes unitários.</strong></li>
<li>Muitas extensões disponíveis.</li>
</ol>
<h3 id="micro-framework">Micro-framework<a class="headerlink" href="#micro-framework" title="Permanent link">&para;</a></h3>
<p>Oposto a fullstack framework, que também oferecem módulos adicionais features como autenticação, banco de dados ORM, validação de input e sanitização, etc...</p>
<p>Flask é conhecido como um micro-framework porque é leve e apenas fornece componentes que são essenciais, como <strong>routing, request, handling, sessions</strong>. Para outras funcionalidades o desenvolvedor deve escrever módulos customizados ou usar uma extensão. Essa abordagem evita boilerplate code.</p>
<h2 id="o-modelo-arquitetural-cliente-servidor">O Modelo Arquitetural Cliente-Servidor<a class="headerlink" href="#o-modelo-arquitetural-cliente-servidor" title="Permanent link">&para;</a></h2>
<p><strong>Cliente</strong>: Enviar requisição para os servidores e enviar de volta os dados necessários.</p>
<p><strong>Servidor</strong>: Espera por requisições dos clientes e responde a elas. O servidor responde a essas requisições e envia a informação que o cliente pediu.</p>
<h3 id="comunicacao-cliente-servidor">Comunicação cliente servidor<a class="headerlink" href="#comunicacao-cliente-servidor" title="Permanent link">&para;</a></h3>
<p>Através de múltiplos protocolos diferentes. Em nosso contexto, <strong>HTTP</strong> ou <strong>HTTPS</strong> são usados.</p>
<p><strong>Métodos HTTP:</strong></p>
<ul>
<li><code>GET</code></li>
<li><code>POST</code></li>
<li><code>PUT</code></li>
<li><code>DELETE</code></li>
</ul>
<h3 id="uma-aplicacao-flask-como-um-servidor">Uma aplicação Flask como um servidor<a class="headerlink" href="#uma-aplicacao-flask-como-um-servidor" title="Permanent link">&para;</a></h3>
<p>A aplicação Flask aqui será do lado servidor. o Browser agirá como cliente mandando requisições para nossa aplicação web. Então a aplicação enviará a resposta apropriada.</p>
<h2 id="arquitetura-model-template-view-mtv">Arquitetura Model-Template-View (MTV)<a class="headerlink" href="#arquitetura-model-template-view-mtv" title="Permanent link">&para;</a></h2>
<p>A arquitetura <strong>MTV</strong> é uma variação da arquitetura do <strong>MVC</strong> (<strong>Model-View-Controler</strong>).</p>
<p>A arquitetura <strong>MVC</strong> é um <em>padrão arquitetural de software</em> no qual a lógica da aplicação é dividida em 3 componentes na base da funcionalidade:</p>
<ul>
<li><strong>Models</strong></li>
<li><strong>Views</strong></li>
<li><strong>Controllers</strong></li>
</ul>
<p>É usado não apenas para aplicações Desktop como também para Web e Mobile.</p>
<h3 id="componentes-da-arquitetura-mvc">Componentes da Arquitetura <strong>MVC</strong><a class="headerlink" href="#componentes-da-arquitetura-mvc" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Models</strong></li>
</ol>
<p>Models representam como os dados são armazenados no banco de dados. Contém todas as definições de dados para a aplicação (o schema).</p>
<ol>
<li><strong>Views</strong></li>
</ol>
<p><strong>Views</strong> são componentes que são visíveis ao usuário, como um output ou um Graphical User Interface (GUI).</p>
<ol>
<li><strong>Controllers</strong></li>
</ol>
<p><strong>Controllers</strong> são componentes que agem como uma interface entre <strong>models</strong> e <strong>views</strong>. O controller interpreta as interações do usuário (inputs) e executa tarefas nos models antes de retornar os dados apropriados através dos views.</p>
<h3 id="mtv">MTV<a class="headerlink" href="#mtv" title="Permanent link">&para;</a></h3>
<p>A arquitetura <strong>MTV</strong> é uma leve variação da <strong>MVC</strong>. Por si só, Flask é um micro framwork e não contém suporte built-in para nenhum framework arquitetural. Entretanto, programadores que usam Flask têm a arquitetura MTV porque outro framework de desenvolvimento web baseado em Python, chamado <strong>Django</strong> a introduziu. Abaixo, uma comparação grosseira entre MVC e MTV:</p>
<h2 id="wsgi-e-jinja2">WSGI e Jinja2<a class="headerlink" href="#wsgi-e-jinja2" title="Permanent link">&para;</a></h2>
<h3 id="web-server-gateway-interface-wsgi">Web Server Gateway Interface (WSGI)<a class="headerlink" href="#web-server-gateway-interface-wsgi" title="Permanent link">&para;</a></h3>
<p><strong>WSGI</strong> é um padrão que descreve as especificações concernentes à comunicação entre um servidor web e uma aplicação cliente. Os detalhes desse padrão estão presentes na PEP33.</p>
<p><strong>Alguns benefícios do WSGI:</strong></p>
<ul>
<li><strong>Flexibilidade</strong> com os componentes da aplicação.</li>
<li><strong>Interoperabilidade</strong> entre diferentes frameworks Python.</li>
<li><strong>Escalabilidade</strong> da aplicação com o aumento de usuários.</li>
<li><strong>Eficiência</strong> em termos de velocidade de desenvolvimento.</li>
</ul>
<p>Não precisamos nos preocupar com detalhes internos do WSGI porque o modulo Flask lida com isso.</p>
<h3 id="a-linguagem-de-template-jinja">A linguagem de template Jinja<a class="headerlink" href="#a-linguagem-de-template-jinja" title="Permanent link">&para;</a></h3>
<p><strong>Jinja</strong> é uma linguagem de template usada em Python.</p>
<p>Podemos renderizar conteúdo dinâmico em HTML usando Jinja.</p>
<h2 id="hello-world">Hello World!<a class="headerlink" href="#hello-world" title="Permanent link">&para;</a></h2>
<p>A aplicação mais simples em Flask pode ser feita usando apenas um script. Chamaremos de <code>app.py</code>. O programa será dividido em passos.</p>
<h4 id="passo-1-importando-modulos">Passo 1: Importando Módulos<a class="headerlink" href="#passo-1-importando-modulos" title="Permanent link">&para;</a></h4>
<p>Para essa aplicação, precisamos apenas do módulo Flask da biblioteca flask.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
</code></pre></div>
<h4 id="passo-2-criando-um-objeto-flask">Passo 2: Criando um objeto Flask<a class="headerlink" href="#passo-2-criando-um-objeto-flask" title="Permanent link">&para;</a></h4>
<p>Precisamos criar um objeto com o modulo importado Flask. Esse objeto será nossa aplicação <strong>WSGI</strong> chamada <code>app</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</code></pre></div>
<h4 id="passo-3-executar-a-aplicacao-em-main">Passo 3: Executar a aplicação em main<a class="headerlink" href="#passo-3-executar-a-aplicacao-em-main" title="Permanent link">&para;</a></h4>
<p>Para executar a aplicação, chamaremos a função <code>run()</code> do nosso objeto app.</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<h4 id="passo-4-criar-uma-funcao-view">Passo 4: Criar uma função view<a class="headerlink" href="#passo-4-criar-uma-funcao-view" title="Permanent link">&para;</a></h4>
<p>Antes de rodar a aplicação, precisamos dizer à aplicação para mostrar algo como saída no browser. Então, criamos uma função chamada <code>hello()</code> que retorna a string "Hello World!". A saída retornada desta função será mostrada no browser.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Hello World&quot;</span><span class="p">;</span>
</code></pre></div>
<h4 id="passo-5-atribuir-uma-rota-url">Passo 5: Atribuir uma rota URL<a class="headerlink" href="#passo-5-atribuir-uma-rota-url" title="Permanent link">&para;</a></h4>
<p>Finalmente, precisamos dizer ao app Flask quando chamar a função view <code>hello()</code>. Para este propósito, criaremos uma rota URL. Uma rota URL é associada a cada função view. Essa associação é criada usando o <strong>decorator</strong> <code>route()</code> antes de cada função view.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">;</span>
</code></pre></div>
<h4 id="implementacao-completa">Implementação completa<a class="headerlink" href="#implementacao-completa" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">host</span> <span class="o">=</span> <span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">)</span>
</code></pre></div>
<h2 id="rotas-url-e-views">Rotas URL e Views<a class="headerlink" href="#rotas-url-e-views" title="Permanent link">&para;</a></h2>
<p>A homepage de um website pode ser facilmente achada na URL <code>hostname</code> seguida de <code>/</code>, <code>/home</code>, <code>/index</code> ou algo auto explicativo.</p>
<p>Estes tipos de URLs permitem que os usuários lembrem da URL e acessem facilmente. Seria inesperado se uma homepage fosse em uma URL aleatória como <code>/39283@&amp;3911</code> ou <code>/more_eggs</code>.</p>
<p>Flask nos permite usar o decorator <code>route()</code> para vincular uma URL significativa a cada função view que criarmos.</p>
<h3 id="o-decorator-route">O decorator <code>route()</code><a class="headerlink" href="#o-decorator-route" title="Permanent link">&para;</a></h3>
<p>O decorator route leva os seguintes parâmetros:</p>
<ul>
<li><code>rule</code>: representa a regra de URL que é passada como string ao decorador.</li>
<li><code>endpoint</code> (não necessário):  É o nome da <strong>função de view</strong> que é vinculada a rota URL.</li>
<li><code>options</code> (não necessário): Parâmetro opcional.</li>
</ul>
<h2 id="static-routing">Static Routing<a class="headerlink" href="#static-routing" title="Permanent link">&para;</a></h2>
<p>Em roteamento estático, especificamos uma string URL constante como uma regra para o decorator <code>route()</code>. Na aplicação abaixo especificamos duas rotas estáticas tendo URLs <code>/</code> e <code>educative</code>, respectivamente.</p>
<p><strong>Nota</strong>: A <code>rule</code> é uma string case-sensitive. Portanto,  <code>educative</code> e <code>Educative</code> são URLs totalmente diferentes.</p>
<h3 id="um-exemplo-usando-rotas-url-estaticas">Um Exemplo usando rotas URL estáticas<a class="headerlink" href="#um-exemplo-usando-rotas-url-estaticas" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Welcome to the HomePage!&quot;</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/educative&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">learn</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Happy Learning at Educative!&quot;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
</code></pre></div>
<h3 id="dynamic-routing">Dynamic Routing<a class="headerlink" href="#dynamic-routing" title="Permanent link">&para;</a></h3>
<p>Em roteamento dinâmico, o parâmetro <code>rule</code> não é uma string constante e sim uma <strong>variável</strong>.</p>
<h4 id="variable-rules">Variable Rules<a class="headerlink" href="#variable-rules" title="Permanent link">&para;</a></h4>
<p>Em Flask podemos adicionar <strong>rules variáveis</strong> dentro da rota URL ao usar a seguinte sintaxe: <code>&lt;variable_name&gt;</code>. A variável chamada <code>variable_name</code> será então passada à função view para ser usada.</p>
<h4 id="exemplo-usando-rules-variaveis">Exemplo usando rules variáveis<a class="headerlink" href="#exemplo-usando-rules-variaveis" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Welcome to the HomePage!&quot;</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&lt;my_name&gt;&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">greatings</span><span class="p">(</span><span class="n">my_name</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Welcome &quot;</span><span class="o">+</span> <span class="n">my_name</span> <span class="o">+</span><span class="s2">&quot;!&quot;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
</code></pre></div>
<h3 id="converter">Converter<a class="headerlink" href="#converter" title="Permanent link">&para;</a></h3>
<p>No exemplo anterior, a variável <code>my_name</code> foi extraída da URL e foi convertida em uma string e passada para a função <code>greetings()</code> para ser usada. Este é o comportamento padrão do <strong>converter</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/square/&lt;int:number&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">show_square</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;View that shows the square of the number passed by URL&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;Square of &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> <span class="o">+</span><span class="s2">&quot; is: &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">number</span> <span class="o">*</span> <span class="n">number</span><span class="p">)</span> 
</code></pre></div>
<h2 id="como-usar-templates-html">Como usar Templates HTML<a class="headerlink" href="#como-usar-templates-html" title="Permanent link">&para;</a></h2>
<h3 id="templates-estaticos">Templates Estáticos<a class="headerlink" href="#templates-estaticos" title="Permanent link">&para;</a></h3>
<p>São arquivos HTML que permanecem constantes. De fato, arquivos HTML padrão são estáticos por natureza. Sempre que o mesmo arquivo é renderizado, ele mostra o mesmo output, a menos que o arquivo seja alterado.</p>
<p>Até agora, estamos retornando apenas uma string de uma função view. Mas em uma aplicação do mundo real, esperamos que um arquivo HTML seja retornado e renderizado no tela do browser.</p>
<h3 id="renderizando-templates-html">Renderizando templates HTML<a class="headerlink" href="#renderizando-templates-html" title="Permanent link">&para;</a></h3>
<p>HTML pode ser renderizado com Flask usando dois métodos.</p>
<h3 id="uma-string">Uma String<a class="headerlink" href="#uma-string" title="Permanent link">&para;</a></h3>
<p>Podemos utilizar HTML como uma string em uma função view.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;h1&gt;Welcome to the HomePage!&lt;/h1&gt;&quot;</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
</code></pre></div>
<h4 id="funcao-render_template">Função render_template<a class="headerlink" href="#funcao-render_template" title="Permanent link">&para;</a></h4>
<p>Retornar HTML como uma String funciona perfeitamente, mas não é apropriado para aplicações práticas. É melhor manter código e templates separados. Portanto, criamos arquivos separados contendo o código HTML para os templates. Então, estes arquivos HTML pode ser referenciados para dentro dos views pelos seus nomes.</p>
<p>Flask contém uma função chamada <code>render_template()</code> que é usada para renderizar os templates HTML desejados. Este método tem os seguintes parâmetros:</p>
<ul>
<li><code>template_name_or_list</code>: O nome do template ou de uma lista de templates (o método vai renderizar o primeiro template da lista).</li>
<li><code>context</code> (opcional): variável que devem estar disponíveis dentro do template.</li>
</ul>
<p>O output de <code>render_template()</code> então é retornado pela view ao invés de uma simples String, como estávamos fazendo previamente.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">view_name</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="n">template_name</span><span class="p">)</span>
</code></pre></div>
<h3 id="estrategias-de-estrutura-de-arquivos">Estratégias de estrutura de arquivos<a class="headerlink" href="#estrategias-de-estrutura-de-arquivos" title="Permanent link">&para;</a></h3>
<p>O framework Flask procura pelos arquivos de template HTML dentro de um diretório nomeado<code>\templates</code>. Este diretório deve ser posto de forma que Flask possa encontrar.</p>
<h4 id="estrutura-de-arquivos-em-modulo">Estrutura de arquivos em módulo<a class="headerlink" href="#estrutura-de-arquivos-em-modulo" title="Permanent link">&para;</a></h4>
<p>Se seguir uma estrutura de arquivos modular em nosso projeto, um diretório separado chamado "templates" pode ser criado no mesmo diretório que o módulo principal da aplicação. (ex: <code>app.py</code>).</p>
<h4 id="estrutura-de-arquivo-em-pacotes">Estrutura de arquivo em pacotes<a class="headerlink" href="#estrutura-de-arquivo-em-pacotes" title="Permanent link">&para;</a></h4>
<p>Se a lógica da aplicação está dividida em módulos separados, então estes arquivos estão presentes no mesmo pacote.</p>
<p>Em Python, um pacote é simplesmente um diretório contendo um arquivo nomeado como <code>__init__.py</code>. Se esta estrutura esta sendo seguida em nossa aplicação, então iremos criar o diretório <code>templates</code>  dentro do pacote da aplicação principal.</p>
<h2 id="arquivos-estaticos">Arquivos Estáticos<a class="headerlink" href="#arquivos-estaticos" title="Permanent link">&para;</a></h2>
<h2 id="como-servimos-arquivos-estaticos">Como Servimos Arquivos Estáticos?<a class="headerlink" href="#como-servimos-arquivos-estaticos" title="Permanent link">&para;</a></h2>
<p>Arquivos estáticos (ou assets), são arquivos que o servidor manda para o cliente "como eles são", sem qualquer intervenção. Por exemplo, qualquer arquivo <code>css</code>, ou <code>JavaScript</code> que podemos ter em nosso website são enviados para o cliente sem qualquer modificação.</p>
<h3 id="passos-para-servir-arquivos-estaticos">Passos para servir Arquivos Estáticos<a class="headerlink" href="#passos-para-servir-arquivos-estaticos" title="Permanent link">&para;</a></h3>
<p>Os passos a seguir são necessários para hospedar um asset estático.</p>
<h4 id="criar-um-diretorio-static">Criar um diretório <code>\static</code><a class="headerlink" href="#criar-um-diretorio-static" title="Permanent link">&para;</a></h4>
<p>As mesmas estratégias de estruturas de arquivos também se aplicam aqui.</p>
<h4 id="criar-uma-url-para-arquivos-estaticos">Criar uma URL para arquivos estáticos<a class="headerlink" href="#criar-uma-url-para-arquivos-estaticos" title="Permanent link">&para;</a></h4>
<p>Não usamos views para arquivos estáticos. Então, para criar uma URL separada para eles, usamos a função <code>url_for()</code>.</p>
<h4 id="funcao-url_for">Função <code>url_for()</code><a class="headerlink" href="#funcao-url_for" title="Permanent link">&para;</a></h4>
<p>A função <code>url_for()</code> é usada para criar uma URL para certo endpoint. Podemos usá-la para criar URLs  para views também. Ela leva o nome do endpoint e quaisquer variáveis associadas como argumentos.</p>
<div class="highlight"><pre><span></span><code><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;view_function_name&#39;</span><span class="p">,</span> <span class="n">variable_name</span> <span class="o">=</span> <span class="s1">&#39;value_of_variable&#39;</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p><strong>🤔 Porque precisamos usar <code>url_for()</code> se podemos escrever a URL?</strong></p>
<ol>
<li>A função <code>url_for()</code> sempre retorna a URL absoluta para o endpoint. Portanto, chamamos ela em qualquer lugar do projeto e não teremos problemas com caminhos relativos.</li>
<li>Se acabarmos mudando o caminho para um endpoint ou rota para uma view, não temos que mudar a URL escrita em todo o projeto.</li>
</ol>
</blockquote>
<p>A URL para um arquivo estático pode ser criada usando um endpoint <code>static</code> como a seguir:</p>
<div class="highlight"><pre><span></span><code><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;name_of_file&#39;</span><span class="p">)</span>
</code></pre></div>
<h4 id="exemplo">Exemplo<a class="headerlink" href="#exemplo" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;borders.css&#39;)}}&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Home Page!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Welcome to the homepage for &quot;How to Server Static Files&quot; Demo!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p><strong>Chaves duplas fazem parte da sintaxe de Jinja</strong></p>
<h2 id="templates-dinamicos">Templates Dinâmicos<a class="headerlink" href="#templates-dinamicos" title="Permanent link">&para;</a></h2>
<h3 id="templates-jinja2">Templates Jinja2<a class="headerlink" href="#templates-jinja2" title="Permanent link">&para;</a></h3>
<p>Considere que estamos fazendo uma aplicação com múltiplos usuários, tal como uma rede social, cada usuário terá um perfil único com informações únicas associadas a ele. É nosso trabalho na aplicação web servir um template único contendo o conteúdo correspondente a usuário que está logado.</p>
<p>Podemos observar, que do lado do servidor, um template genérico está colocado contendo uma <strong>variable rule</strong>. Quando este template é renderizado no lado do cliente, uma valor apropriado é colocado ao invés da <strong>rule</strong>. Esse novo valor é de acordo com o contexto da aplicação. Este tipo de comportamento dinâmico de um template é chamado de <strong>dynamic templating</strong>.</p>
<p>Muitas tecnologias server-side nos permitem implementar comportamento de template dinâmico. Flask tem suporte embutido para uma engine para criação de templates dinâmicos chamada <strong>Jinja</strong>.</p>
<h4 id="a-engine-de-template-jinja">A Engine de Template Jinja<a class="headerlink" href="#a-engine-de-template-jinja" title="Permanent link">&para;</a></h4>
<p>Um arquivo de template Jinja é um arquivo de texto que não tem uma extensão em particular. Usaremos extensão <code>.html</code> com os arquivos de template porque eles também irão incluir sintaxe <code>HTML</code>.</p>
<h4 id="delimitadores">Delimitadores<a class="headerlink" href="#delimitadores" title="Permanent link">&para;</a></h4>
<ul>
<li><code>{% ... %}</code> é usado para declarações.</li>
<li>
<p><code>{{ ... }}</code> é usado para variáveis.</p>
</li>
<li>
<p><code>{# ... #}</code>é usado para comentários.</p>
</li>
<li><code># ... ##</code> é usado para declarações de linha.</li>
</ul>
<h4 id="variaveis">Variáveis<a class="headerlink" href="#variaveis" title="Permanent link">&para;</a></h4>
<p>Podemos inserir variáveis dentro de templates seguindo estes dois passos:</p>
<p>1 . O objeto é fornecido com um argumento nomeado para a função <code>render_template()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">,</span> <span class="n">my_object</span> <span class="o">=</span> <span class="n">Object</span><span class="p">)</span>
</code></pre></div>
<ol>
<li>O valor desse objeto é buscado dentro do template usando a sintaxe <code>{{}}</code>.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{{</span> <span class="n">my_object</span> <span class="p">}}</span>
</code></pre></div>
<h4 id="fluxo-de-controle-com-jinja">Fluxo de controle com Jinja<a class="headerlink" href="#fluxo-de-controle-com-jinja" title="Permanent link">&para;</a></h4>
<p>Jinja também fornece sintaxe para lidar com fluxo de controle de um aplicação dentro dos seus templates. Loops e condições podem ser adicionadas aos templates utilizando a sintaxe pythonica fornecida pelo Jinja.</p>
<h4 id="loops">Loops<a class="headerlink" href="#loops" title="Permanent link">&para;</a></h4>
<p>A sintaxe de <code>for</code> é bem parecida com a de python.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">array</span> <span class="o">%</span><span class="p">}</span>
    <span class="o">...</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>
<h5 id="condicionais">Condicionais<a class="headerlink" href="#condicionais" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">true</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>
<p>Múltiplas ramificações utilizando <code>elif</code> e <code>else</code>.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="o">...</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="k">elif</span> <span class="o">...</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>
<h3 id="template-inheritance">Template Inheritance<a class="headerlink" href="#template-inheritance" title="Permanent link">&para;</a></h3>
<h4 id="blocks">Blocks<a class="headerlink" href="#blocks" title="Permanent link">&para;</a></h4>
<p>Em Jinja, <strong>blocks</strong> são usados como placeholders e também como substitutos. No template <strong>pai</strong>, estes blocos são usados como <strong>placeholders</strong>. Enquanto que no template filho, eles são usados como substitutos.</p>
<h5 id="basehtml"><code>base.html</code><a class="headerlink" href="#basehtml" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;static&#39;, filename=&#39;format.css&#39;)}}&quot;</span> <span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{% block title %}<span class="cm">&lt;!-- Placeholder for Title --&gt;</span>{% endblock %} - Jinja Demo<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

    {% block head %} 
    <span class="cm">&lt;!-- Placeholder for Other Imports --&gt;</span>
    {% endblock %}

<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;header&quot;</span><span class="p">&gt;</span> JINJA DEMO <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;content&quot;</span><span class="p">&gt;</span>
        {% block content %}
        <span class="cm">&lt;!-- Placeholder for Page Content --&gt;</span>
        {% endblock %}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;footer&quot;</span><span class="p">&gt;</span> Copyright © 2019 All Rights Reserved <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="homehtml">home.html<a class="headerlink" href="#homehtml" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="o">%</span><span class="p">}</span>

<span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Replacement</span> <span class="k">for</span> <span class="n">Title</span> <span class="o">--&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span>
<span class="n">Home</span> <span class="n">Page</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Replacement</span> <span class="k">for</span> <span class="n">Content</span> <span class="o">--&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Home</span> <span class="n">Page</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Welcome</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Jinja2</span> <span class="n">Demo</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>
<h5 id="abouthtml">about.html<a class="headerlink" href="#abouthtml" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>{% extends &quot;base.html&quot; %}

<span class="cm">&lt;!-- Replacement for Title --&gt;</span>
{% block title %}
About Page
{% endblock %}

<span class="cm">&lt;!-- Replacement for Content --&gt;</span>
{% block content %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>About Page<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>In this lesson we are learning about Template Inheritance<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
{% endblock %}
</code></pre></div>
<h2 id="formularios">Formulários<a class="headerlink" href="#formularios" title="Permanent link">&para;</a></h2>
<p>O pacote Flask não fornece uma forma de lidar com formulários. Existem duas formas que desenvolvedor lidam com isso:</p>
<ol>
<li>Via objeto <code>request</code>.</li>
<li>Via extensão <code>Flask-WTF</code>.</li>
</ol>
<h3 id="utilizando-request">Utilizando Request<a class="headerlink" href="#utilizando-request" title="Permanent link">&para;</a></h3>
<p>Por padrão, o decorator <code>route()</code> serve apenas requisições <code>get</code>. Portanto, devemos fornecer um parâmetro extra, chamado <code>methods</code> para o decorator <code>route()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">])</span>
</code></pre></div>
<p><code>login.html</code></p>
<div class="highlight"><pre><span></span><code>{% block content %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Login<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;login&#39;)}}&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
  Email:<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;email&quot;</span> <span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  Password:<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Login&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span> 
{% endblock %}
</code></pre></div>
<h3 id="data-handling-usando-objeto-request">Data Handling usando objeto Request<a class="headerlink" href="#data-handling-usando-objeto-request" title="Permanent link">&para;</a></h3>
<p>Para acessar dados enviados pelo usuário usamos o objeto global <code>request</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">request</span>
</code></pre></div>
<h3 id="recebendo-o-tipo-de-method-de-request">Recebendo o tipo de <code>method</code> de request.<a class="headerlink" href="#recebendo-o-tipo-de-method-de-request" title="Permanent link">&para;</a></h3>
<p>Podemos utilizar o atributo <code>method</code> do objeto request para determinar o método de um requisição entrante.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="o">...</span>
    <span class="k">else</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="recebendo-form-data-de-request">Recebendo <code>Form</code> data de <code>request</code><a class="headerlink" href="#recebendo-form-data-de-request" title="Permanent link">&para;</a></h3>
<p>Podemos usar o atributo <code>form</code> de um objeto <code>request</code> para obter os valores que o usuário submeteu. a <!--variável--> <code>form</code> é uma estrutura de dados especial chamado <code>ImmutableMultiDict</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
        <span class="o">...</span>
    <span class="k">else</span><span class="p">:</span>   
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">)</span>
</code></pre></div>
<h4 id="exemplo-com-logica-de-validacao">Exemplo com Lógica de Validação<a class="headerlink" href="#exemplo-com-logica-de-validacao" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">request</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">users</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;archie.andrews@email.com&quot;</span><span class="p">:</span> <span class="s2">&quot;football4life&quot;</span><span class="p">,</span>
    <span class="s2">&quot;veronica.lodge@email.com&quot;</span><span class="p">:</span> <span class="s2">&quot;fashiondiva&quot;</span>
<span class="p">}</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;home.html&quot;</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">email</span> <span class="ow">in</span> <span class="n">users</span> <span class="ow">and</span> <span class="n">users</span><span class="p">[</span><span class="n">email</span><span class="p">]</span> <span class="o">==</span> <span class="n">password</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span><span class="s2">&quot;Successfully Logged In&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span><span class="s2">&quot;Incorrect Email or Password&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
</code></pre></div>
<p><code>login.html</code></p>
<div class="highlight"><pre><span></span><code>{% block content %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Login<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
{% if message %}
    {{ message }}
{% endif %}
<span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;login&#39;)}}&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
  Email:<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;email&quot;</span> <span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  Password:<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Login&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span> 
<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
{% endblock %}
</code></pre></div>
<h3 id="criando-formularios-usando-flask-wtf-e-wtforms">Criando Formulários usando Flask-WTF e WTForms<a class="headerlink" href="#criando-formularios-usando-flask-wtf-e-wtforms" title="Permanent link">&para;</a></h3>
<p>Em nossa aplicação não tínhamos nenhuma checagem para email e password porque era um exemplo simples. Se quisermos adicionar esses checks deveríamos escreve lógica para isso no front end ou no backend (dentro da view <code>login</code>).</p>
<p>Em aplicações maiores esses tipos de componentes extras podem facilmente se tornar <em>boiler-plate</em> e difícil de ler, para esse propósito algumas biblioteca tornam este processo mais fácil.</p>
<p><strong>WTForms</strong>: É um biblioteca que torna trabalhar com formulários fácil. Ela lida não apenas com validação mas também com a renderização no front-end. Adicionalmente, <code>WTForms</code> não é limitada somente a Flask.</p>
<p><strong>Flask-WTF</strong>: É uma biblioteca específica de <code>Flask</code> que integra a biblioteca <code>WTForm</code> com <code>Flask</code>. Age como um add-on de <code>WTForms</code> e adiciona alguns componentes extra, como segurança.</p>
<p><strong>Criando um módulo forms:</strong></p>
<p>Primeiro, separamos nosso módulo da aplicação do módulo dos formulários. Adicionaremos um novo arquivo chamado <code>forms.py</code>, que agirá como um módulo de formulários.</p>
<p><strong>Importando <code>FlaskForm</code> de <code>flask_wtf</code>:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask_wtf</span> <span class="kn">import</span> <span class="n">FlaskForm</span>
<span class="c1"># Essa classe é uma subclasse de Form da bilioteca wtforms</span>
</code></pre></div>
<p><strong>Criando classe <code>LoginForm</code></strong>:</p>
<p>Para cada formulário em nosso website, criaremos uma classe a medida em que estamos criando um formulário de login. Portanto, vamos nomear essa classe <code>LoginForm</code>. Esta classe irá herdar da classe <code>FlaskForm</code> importada previamente.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoginForm</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
<p><strong>Adicionando campos de formulário de <code>wtforms</code></strong></p>
<p>O formulário de login anterior tinha 3 componentes:</p>
<ol>
<li>Um campo de input para email.</li>
<li>Um campo de input para password.</li>
<li>O campo do botão submit.</li>
</ol>
<p>Para todo campo possível, <code>wtforms</code> tem classes associadas. Para este exemplo particular, importaremos apenas os campos que precisamos:</p>
<ol>
<li>
<p><code>StringField</code> para email.</p>
</li>
<li>
<p><code>PasswordField</code> para um password.</p>
</li>
<li><code>SubmitField</code> para o botão submit.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">StringField</span><span class="p">,</span> <span class="n">PasswordField</span><span class="p">,</span> <span class="n">SubmitField</span>
</code></pre></div>
<p>Agora vamos criar instâncias dessas classes como variáveis membros da nossa classe e iremos passar os rótulos desses campos como inputs para os construtores.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoginForm</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Email&#39;</span><span class="p">)</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">PasswordField</span><span class="p">(</span><span class="s1">&#39;Password&#39;</span><span class="p">)</span>
    <span class="n">submit</span> <span class="o">=</span> <span class="n">SubmitField</span><span class="p">(</span><span class="s1">&#39;Login&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Adicionar validadores de campo do <code>wtforms</code></strong>:</p>
<p><strong>Validadores</strong> são regras e checks que queremos aplicar aos nossos campos dentro de um formulário. Por exemplo, em um campo de email queremos ter certeza de que o input é um email válido. Para esse propósito iremos usar o validador <code>Email</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">wtforms.validators</span> <span class="kn">import</span> <span class="n">InputRequired</span><span class="p">,</span> <span class="n">Email</span> 
</code></pre></div>
<p>Para aplicar estes validadores aos campos, fornecemos  uma lista de validadores como parâmetros a eles:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoginForm</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Email&#39;</span><span class="p">,</span> <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">InputRequired</span><span class="p">(),</span> <span class="n">Email</span><span class="p">()])</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">PasswordField</span><span class="p">(</span><span class="s1">&#39;Password&#39;</span><span class="p">,</span> <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">InputRequired</span><span class="p">()])</span>
    <span class="n">submit</span> <span class="o">=</span> <span class="n">SubmitField</span><span class="p">(</span><span class="s1">&#39;Login&#39;</span><span class="p">)</span>
</code></pre></div>
<ul>
<li><code>InputRequired():</code> coloca o atributo <code>required</code> no HTML.</li>
<li><code>Email()</code>: checa se o input é um email válido.</li>
</ul>
<p><strong>Implementação completa</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask_wtf</span> <span class="kn">import</span> <span class="n">FlaskForm</span>
<span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">StringField</span><span class="p">,</span> <span class="n">PasswordField</span><span class="p">,</span> <span class="n">SubmitField</span>
<span class="kn">from</span> <span class="nn">wtforms.validators</span> <span class="kn">import</span> <span class="n">InputRequired</span><span class="p">,</span> <span class="n">Email</span>

<span class="k">class</span> <span class="nc">LoginForm</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Email&#39;</span><span class="p">,</span> <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">InputRequired</span><span class="p">(),</span> <span class="n">Email</span><span class="p">()])</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">PasswordField</span><span class="p">(</span><span class="s1">&#39;Password&#39;</span><span class="p">,</span> <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">InputRequired</span><span class="p">()])</span>
    <span class="n">submit</span> <span class="o">=</span> <span class="n">SubmitField</span><span class="p">(</span><span class="s1">&#39;Login&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="renderizando-formularios-flask-wtf-em-templates">Renderizando formulários Flask-WTF em templates<a class="headerlink" href="#renderizando-formularios-flask-wtf-em-templates" title="Permanent link">&para;</a></h3>
<p>Para renderizar um formulário, primeiro precisamos retornar ele de uma <code>view</code> para um <code>template</code>.</p>
<h4 id="modificando-a-view-login-em-apppy">Modificando a view <code>login</code> em <code>app.py</code><a class="headerlink" href="#modificando-a-view-login-em-apppy" title="Permanent link">&para;</a></h4>
<p>Primeiro, importamos <code>LoginForm</code> do módulo forms.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">forms</span> <span class="kn">import</span> <span class="n">LoginForm</span>
</code></pre></div>
<p>Criar um objeto de <code>LoginForm</code>  na view <code>login</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">LoginForm</span><span class="p">()</span>
</code></pre></div>
<p>Retornar o formulário para o template: Esse formulário será passado como argumento para a função <code>render_template</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">,</span> <span class="n">form</span> <span class="o">=</span> <span class="n">form</span><span class="p">)</span>
</code></pre></div>
<p>Implementação completa:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">forms</span> <span class="kn">import</span> <span class="n">LoginForm</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">users</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;archie.andrews@email.com&quot;</span><span class="p">:</span> <span class="s2">&quot;football4life&quot;</span><span class="p">,</span>
    <span class="s2">&quot;veronica.lodge@email.com&quot;</span><span class="p">:</span> <span class="s2">&quot;fashiondiva&quot;</span>
<span class="p">}</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;home.html&quot;</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">LoginForm</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s2">&quot;login.html&quot;</span><span class="p">,</span> <span class="n">form</span> <span class="o">=</span> <span class="n">form</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
</code></pre></div>
<h4 id="modificando-loginhtml"><strong>Modificando <code>login.html</code></strong><a class="headerlink" href="#modificando-loginhtml" title="Permanent link">&para;</a></h4>
<p>Ao invés do formulário em <code>HTML</code>, renderizaremos uma instância de de <code>form</code> de <code>LoginForm</code> que passamos ao template.</p>
<h5 id="adicionando-campos-de-formulario-ao-template">Adicionando campos de formulário ao template<a class="headerlink" href="#adicionando-campos-de-formulario-ao-template" title="Permanent link">&para;</a></h5>
<p>Usamos a sintaxe de Jinja para renderizar os campos:</p>
<p>Renderizar os campo de input: <code>{{ form.field_name }}</code></p>
<p>Retornar o <strong>label</strong> do input: <code>{{ form.field_name.label }}</code></p>
<p><strong>implementação completa em <code>login.html</code>:</strong></p>
<div class="highlight"><pre><span></span><code>{% extends &quot;base.html&quot; %}

{% block title %}
Login Page
{% endblock %}

{% block content %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Login<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;{{url_for(&#39;login&#39;)}}&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
    {{ form.email.label }}: <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
    {{ form.email }} 
    <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
    {{ form.password.label }}: <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
    {{ form.password }}
    <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
    {{ form.csrf_token }}
    {{ form.submit }}
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span> 

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
{% endblock %}
</code></pre></div>
<h2 id="banco-de-dados-com-sqlalchemy">Banco de dados com SQLAlchemy<a class="headerlink" href="#banco-de-dados-com-sqlalchemy" title="Permanent link">&para;</a></h2>
<p><code>Flask-SQLAlchemy</code> é um biblioteca para integrar SQLAlchemy com Flask: </p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask_sqlalchemy</span> <span class="kn">import</span> <span class="n">SQLAlchemy</span>
</code></pre></div>
<p>Iniciando uma conexão com o banco de dados:</p>
<div class="highlight"><pre><span></span><code>app = Flask(__name__)
# Caminho para o banco de dados
app.config[&#39;SQLALCHEMY_DATABASE_URI&#39;] = &#39;sqlite:///example.db&#39;
# app como parâmetro para o construtor
db = SQLAlchemy(app)
</code></pre></div>
<h3 id="criando-modelos">Criando Modelos<a class="headerlink" href="#criando-modelos" title="Permanent link">&para;</a></h3>
<p>Criando uma classe de modelo para User:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c1"># adicionando colunas/atributos</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>O primeiro parâmetro define o tipo de dado.</p>
<details class="info">
<summary>Tipos de dados Permitidos</summary>
<p>''' markdown
1. Integer
2. String(size)
3. Text
4. DateTime
5. Float
6. Boolean
7. PickleType
8. LargeBinary
'''</p>
</details>
<p>Outros parâmetros comuns:</p>
<ul>
<li><code>primary_key</code>: Se <code>True</code>, indica a chave primária da tabela.</li>
<li><code>nullable</code>: Se <code>False</code>, é obrigatório dar um valor para essa coluna.</li>
<li><code>unique</code>: Se <code>True</code>, então todos os valores para essa coluna devem ser únicos.</li>
<li><code>index</code>: Se <code>True</code>, indica que a coluna será indexada.</li>
</ul>
<h4 id="criando-um-tabela">Criando um tabela<a class="headerlink" href="#criando-um-tabela" title="Permanent link">&para;</a></h4>
<p>O comando abaixo cria uma tabela no banco de dados com os modelos construídos.</p>
<div class="highlight"><pre><span></span><code>db.create_all()
</code></pre></div>
<h3 id="relacionamento-um-um-para-muitos">Relacionamento um Um-Para-Muitos<a class="headerlink" href="#relacionamento-um-um-para-muitos" title="Permanent link">&para;</a></h3>
<p>O código abaixo cria um relacionamento entre <code>Employee</code> e <code>Department</code></p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Employee</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">employee_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">department_name</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;department.name&#39;</span><span class="p">),</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Department</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">primary_key</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">employees</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;Employee&#39;</span><span class="p">,</span> <span class="n">backref</span> <span class="o">=</span> <span class="s1">&#39;department&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Project</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">project_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h3 id="pygal-em-flask">Pygal em Flask<a class="headerlink" href="#pygal-em-flask" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/charts/line.svg&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">line_route</span><span class="p">():</span>
  <span class="n">chart</span> <span class="o">=</span> <span class="n">pygal</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span>
  <span class="o">...</span>
  <span class="k">return</span> <span class="n">chart</span><span class="o">.</span><span class="n">render_response</span><span class="p">()</span>
</code></pre></div>

              
            </article>
            
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Conda/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Conda" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Conda
            </div>
          </div>
        </a>
      
      
        
        <a href="../XGBoost/" class="md-footer__link md-footer__link--next" aria-label="Next: XGBoost" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              XGBoost
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/GLETSONGIRAO" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://linkedin.com/in/gletsonbarreto" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://linkedin.com/in/gletsonbarreto" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "header.autohide", "content.tabs.link", "navigation.instant"], "search": "../assets/javascripts/workers/search.85cb4492.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.a877e258.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>